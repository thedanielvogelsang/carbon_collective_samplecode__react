{"version":3,"sources":["../src/ReactExpandableListView.js"],"names":["ReactListView","props","data","state","headerAttName","itemsAttName","_refi","makeHeaderRef","makeItemRef","Object","keys","map","k","index","header","items","isReactComponent","isOpened","height","headerRef","itemRef","h","handleToggle","bind","display","overflow","headerIndex","newData","assign","setState","propTypes","array","isRequired","string"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEqBA,a;;;AAOnB,yBAAaC,KAAb,EAAoB;AAAA;;AAAA,8HACZA,KADY;;AAAA,QAEVC,IAFU,GAED,MAAKD,KAFJ,CAEVC,IAFU;;AAGlB,UAAKC,KAAL,GAAa;AACXD;AADW,KAAb;AAHkB;AAMnB;;;;6BAES;AAAA;;AAAA,mBACgC,KAAKD,KADrC;AAAA,UACAG,aADA,UACAA,aADA;AAAA,UACeC,YADf,UACeA,YADf;AAAA,UAEAH,IAFA,GAES,KAAKC,KAFd,CAEAD,IAFA;;AAGR,UAAII,QAAQ,CAAZ;AACA,UAAIC,gBAAgB,SAAhBA,aAAgB,GAAM;AACxB,+BAAqBD,KAArB;AACD,OAFD;;AAIA,UAAIE,cAAc,SAAdA,WAAc,GAAM;AACtB,6BAAmBF,KAAnB;AACD,OAFD;;AAIA,aACE;AAAA;AAAA,UAAK,KAAI,UAAT,EAAoB,WAAU,8BAA9B;AACE;AAAA;AAAA,YAAI,WAAU,wBAAd;AAEEG,iBAAOC,IAAP,CAAYR,IAAZ,EAAkBS,GAAlB,CAAsB,UAACC,CAAD,EAAIC,KAAJ,EAAc;AAClC,gBAAMC,SAASZ,KAAKU,CAAL,EAAQR,aAAR,CAAf;AACA,gBAAMW,QAAQb,KAAKU,CAAL,EAAQP,YAAR,CAAd;AAFkC,gBAG1BW,gBAH0B,GAGLd,KAAKU,CAAL,CAHK,CAG1BI,gBAH0B;AAAA,gBAI1BC,QAJ0B,GAIbf,KAAKU,CAAL,CAJa,CAI1BK,QAJ0B;AAAA,gBAK1BC,MAL0B,GAKfhB,KAAKU,CAAL,CALe,CAK1BM,MAL0B;;AAMlCZ;AACA,gBAAMa,YAAYZ,eAAlB;AACA,gBAAMa,UAAUZ,aAAhB;;AAEA,mBACE;AAAA;AAAA;AACE,qBAAKK,KADP;AAEE,8BAAc,EAACQ,GAAG,CAAJ,EAFhB;AAGE,uBAAO,EAACA,GAAG,yBAAOJ,WAAWC,MAAX,GAAoB,CAA3B,CAAJ,EAHT;AAKE;AAAA,oBAAEG,CAAF,QAAEA,CAAF;AAAA,uBACE;AAAA;AAAA,oBAAK,KAAKT,CAAV;AACE;AAAA;AAAA;AACE;AACE,2BAAKO,SADP;AAEE,8BAAQL,MAFV;AAGE,mCAAaD,KAHf;AAIE,iCAAU,gCAJZ;AAKE,oCAAc,OAAKS,YAAL,CAAkBC,IAAlB,SAA6BV,KAA7B;AALhB,sBADF;AAQE;AAAA;AAAA;AACE,+BAAO;AACLW,mCAAS,OADJ;AAELC,oCAAU,QAFL;AAGLP,uCAAWG;AAHN,yBADT;AAME;AACE,6BAAKD,OADP;AAEE,+BAAOL,KAFT;AAGE,0CAAkBC,gBAHpB;AAIE,mCAAU;AAJZ;AANF;AARF;AADF,iBADF;AAAA;AALF,aADF;AAmCD,WA7CD;AAFF;AADF,OADF;AAsDD;;;iCAEaU,W,EAAa;AACzB,UAAIC,UAAUlB,OAAOmB,MAAP,CAAc,EAAd,EAAkB,KAAKzB,KAAL,CAAWD,IAA7B,CAAd;AACAyB,cAAQD,WAAR,EAAqBT,QAArB,GAAgC,CAACU,QAAQD,WAAR,EAAqBT,QAAtD;AACA,WAAKY,QAAL,CACEF,OADF;AAGD;;;;;;AAzFkB3B,a,CACZ8B,S,GAAY;AACjB5B,QAAM,oBAAU6B,KAAV,CAAgBC,UADL;AAEjB5B,iBAAe,oBAAU6B,MAAV,CAAiBD,UAFf;AAGjB3B,gBAAc,oBAAU4B,MAAV,CAAiBD;AAHd,C;kBADAhC,a","file":"ReactExpandableListView.js","sourcesContent":["import React, { Component } from 'react'\nimport ListHeader from './lib/ListHeader'\nimport ListItemsManager from './lib/ListItemsManager'\nimport { Motion, spring } from 'react-motion'\nimport PropTypes from 'prop-types'\n\nexport default class ReactListView extends Component {\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    headerAttName: PropTypes.string.isRequired,\n    itemsAttName: PropTypes.string.isRequired\n  }\n\n  constructor (props) {\n    super(props)\n    const { data } = this.props\n    this.state = {\n      data\n    }\n  }\n\n  render () {\n    const { headerAttName, itemsAttName } = this.props\n    const { data } = this.state\n    let _refi = 0\n    let makeHeaderRef = () => {\n      return `ListHeader-${_refi}`\n    }\n\n    let makeItemRef = () => {\n      return `ListItem-${_refi}`\n    }\n\n    return (\n      <div ref=\"listview\" className=\"expandable-listview_outerDiv\">\n        <ul className=\"expandable-listview_ul\">\n        {\n          Object.keys(data).map((k, index) => {\n            const header = data[k][headerAttName]\n            const items = data[k][itemsAttName]\n            const { isReactComponent } = data[k]\n            const { isOpened } = data[k]\n            const { height } = data[k]\n            _refi++\n            const headerRef = makeHeaderRef()\n            const itemRef = makeItemRef()\n\n            return (\n              <Motion\n                key={index}\n                defaultStyle={{h: 0}}\n                style={{h: spring(isOpened ? height : 0)}}>\n                {\n                ({h}) => (\n                  <div key={k}>\n                    <li>\n                      <ListHeader\n                        ref={headerRef}\n                        header={header}\n                        headerIndex={index}\n                        className=\"expandable-listview_listHeader\"\n                        handleToggle={this.handleToggle.bind(this, index)}\n                      />\n                      <div\n                        style={{\n                          display: 'block',\n                          overflow: 'hidden',\n                          height: `${h}`\n                        }}>\n                        <ListItemsManager\n                          ref={itemRef}\n                          items={items}\n                          isReactComponent={isReactComponent}\n                          className=\"expandable-listview_listItems\"\n                        />\n                      </div>\n                    </li>\n                  </div>\n                )\n              }\n              </Motion>\n          )\n          })\n        }\n        </ul>\n      </div>\n    )\n  }\n\n  handleToggle (headerIndex) {\n    let newData = Object.assign({}, this.state.data)\n    newData[headerIndex].isOpened = !newData[headerIndex].isOpened\n    this.setState(\n      newData\n    )\n  }\n}\n"]}